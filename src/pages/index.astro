---
import Layout from '../layouts/Layout.astro';
import { PERSONAL_INFO } from '../consts';
import { galleryItems } from '../data/gallery';
import ThemeToggle from '../components/ThemeToggle.astro';

const projects = galleryItems.map((item, index) => ({
  ...item,
  slug: item.label.toLowerCase().replace(/\s+/g, '-').replace(/[^a-z0-9-]/g, ''),
  year: `202${3 + index}`,
  description: getProjectDescription(item.category)
}));

function getProjectDescription(category: string | undefined): string {
  switch (category) {
    case 'web': return 'From ancient cobblestone streets to bustling modern metropolises, capturing the soul of destinations that define our wanderlust';
    case 'design': return 'Timeless monochrome compositions that strip away color to reveal the raw emotion and architectural poetry of the world';
    case 'mobile': return 'The authentic rhythm of urban life unfolds through candid moments where light meets shadow on city streets worldwide';
    default: return 'Sweeping vistas and intimate natural details that showcase the untamed beauty of our planet\'s most breathtaking landscapes';
  }
}
---

<Layout title={PERSONAL_INFO.title}>
  <!-- Navigation -->
  <nav class="fixed top-0 left-0 right-0 z-50 bg-white/80 dark:bg-black/80 backdrop-blur-md border-b border-gray-200/50 dark:border-gray-700/50">
    <div class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
      <a href="/" class="text-xl font-medium text-gray-900 dark:text-white">
        Shreyan
      </a>

      <div class="flex items-center gap-8">
        <ThemeToggle />
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="pt-32 pb-20 px-6">
    <div class="max-w-6xl mx-auto">
      <div class="max-w-4xl">
        <h1 class="text-6xl md:text-7xl lg:text-8xl font-light text-gray-900 dark:text-white leading-[0.9] mb-8">
          Independent<br>
          <span class="italic">Creative</span><br>
          Photographer
        </h1>

        <p class="text-lg md:text-xl text-gray-600 dark:text-gray-400 max-w-2xl leading-relaxed mb-12">
          I'm Shreyan, a photographer who believes every frame holds the power to transport.
          From the golden hour streets of Amsterdam to the misty highlands of Scotland,
          I craft visual narratives that celebrate the extraordinary in the everydayâ€”
          a curated journey through landscapes, cultures, and moments that define contemporary travel photography.
        </p>

      </div>
    </div>
  </section>

  <!-- Selected Work -->
  <section class="pb-32 px-6">
    <div class="max-w-6xl mx-auto">

      <div class="space-y-24">
        {projects.map((project) => (
          <article class="group cursor-pointer" data-project={project.slug}>
            <a href={`/album/${project.slug}`} class="block">
              <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-16 items-start">

                <!-- Project Image -->
                <div class="lg:col-span-8 order-2 lg:order-1">
                  <div class="relative aspect-[16/10] overflow-hidden bg-gray-100 dark:bg-gray-800 rounded-lg">
                    <img
                      src={project.href}
                      alt={project.label}
                      class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
                      loading="lazy"
                    />

                    <!-- Overlay -->
                    <div class="absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all duration-500"></div>

                    <!-- View Project Label -->
                    <div class="absolute bottom-6 right-6 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-2 group-hover:translate-y-0">
                      <span class="inline-flex items-center gap-2 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm px-4 py-2 rounded-full text-sm font-medium">
                        View Project
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                        </svg>
                      </span>
                    </div>
                  </div>
                </div>

                <!-- Project Info -->
                <div class="lg:col-span-4 order-1 lg:order-2 lg:pt-8">
                  <div class="space-y-6">
                    <div>
                      <h3 class="text-2xl md:text-3xl font-light text-gray-900 dark:text-white mb-2 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors">
                        {project.label}
                      </h3>
                      <p class="text-gray-600 dark:text-gray-400 leading-relaxed">
                        {project.description}
                      </p>
                    </div>

                    <div class="flex items-center justify-between text-sm">
                      <span class="text-gray-500 dark:text-gray-400">
                        {project.year}
                      </span>
                      {project.category && (
                        <span class="px-3 py-1 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-full text-xs uppercase tracking-wider">
                          {project.category}
                        </span>
                      )}
                    </div>
                  </div>
                </div>

              </div>
            </a>
          </article>
        ))}
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="border-t border-gray-200 dark:border-gray-800 py-16 px-6">
    <div class="max-w-6xl mx-auto">

      <div class="mt-16 pt-8 border-t border-gray-200 dark:border-gray-800 text-sm text-gray-500 dark:text-gray-400">
        <div class="flex items-center justify-between">
          <div>
            <p>&copy; 2025 Shreyan Sengupta. All rights reserved.</p>
            <p class="text-xs mt-1">No text and data mining permitted. This website is protected against AI training and scraping.</p>
          </div>
          <p>Designed & developed with care</p>
        </div>
      </div>
    </div>
  </footer>
</Layout>
